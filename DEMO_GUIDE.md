# Enterprise AI Layer - دليل التشغيل التجريبي (Demo Guide)

## نظرة عامة

هذا الدليل يشرح كيفية تشغيل التدفق التجريبي المتكامل لمنصة الذكاء التنفيذي المؤسسي (Enterprise AI Layer). يقوم هذا التدفق بمحاكاة عملية كاملة تبدأ من الاتصال بنظام خارجي، مرورًا بمعالجة البيانات، وانتهاءً بتوليد توصيات ذكية وسجل تدقيق كامل.

**الهدف من الـ Demo:** إظهار قدرة المنصة على العمل كطبقة ذكاء فوق الأنظمة القائمة دون الحاجة لتعديلها، مع التركيز على مبادئ الأمان، والحوكمة، والقرار البشري.

## المتطلبات الأساسية

قبل البدء، تأكد من توفر المتطلبات التالية:

1.  **الوصول إلى بيئة Replit:** يجب أن يكون لديك صلاحية للوصول إلى المشروع على Replit.
2.  **إعداد متغيرات البيئة:** يجب تعيين متغير `DATABASE_URL` في بيئة Replit ليشير إلى قاعدة بيانات PostgreSQL.
3.  **تشغيل التطبيق الرئيسي:** يجب أن يكون تطبيق Enterprise AI Layer الرئيسي قيد التشغيل (عادةً عبر `npm run dev`).

## خطوات تشغيل الـ Demo

تم تجميع كافة الخطوات اللازمة لبدء الـ Demo في سكريبت واحد لسهولة التنفيذ.

**الخطوة 1: افتح الـ Shell في Replit**

من داخل بيئة Replit، افتح نافذة الـ Shell.

**الخطوة 2: تنفيذ سكريبت بدء الـ Demo**

نفّذ الأمر التالي في الـ Shell:

```bash
./scripts/start-demo.sh
```

**ماذا يفعل هذا الأمر؟**

يقوم السكريبت بتنفيذ المهام التالية تلقائيًا:

1.  **تثبيت الاعتماديات:** يقوم بتثبيت أي حزم ضرورية لـ Mock API.
2.  **تشغيل نظام المحاكاة:** يبدأ تشغيل Mock External System API على المنفذ `3001`. هذا النظام يحاكي نظام إدارة مخزون خارجي.
3.  **تعبئة البيانات التجريبية:** يقوم بتشغيل `seed-demo-inventory.ts` لمسح البيانات القديمة وتعبئة قاعدة البيانات ببيانات واقعية وحديثة تشمل سيناريوهات محددة (مخزون على وشك النفاد، حركة بطيئة، طلب مفاجئ).
4.  **تنفيذ التدفق الكامل:** يقوم بتشغيل `run-demo-flow.ts` الذي ينفذ السيناريو الكامل:
    *   **إنشاء الموصل (Connector):** يقوم بإنشاء موصل REST جديد يتصل بنظام المحاكاة.
    *   **تعريف نقاط النهاية (Endpoints):** يحدد نقاط النهاية الخاصة بالـ Items, Locations, Stock Balances, Stock Movements.
    *   **إنشاء التحويلات (Mappings):** يقوم بإنشاء قواعد تحويل (JSONPath) لربط بيانات النظام الخارجي بالنموذج الأساسي للمنصة (Canonical Model).
    *   **محاكاة جلب البيانات:** يقوم بجلب البيانات من نظام المحاكاة.
    *   **تشغيل محرك الذكاء الاصطناعي:** يقوم بتحليل البيانات المجلوبة لتحديد المخاطر والفرص.
    *   **توليد التوصيات:** يقوم بإنشاء توصيات ذكية (مثل: طلب إعادة توريد) وحالات شاذة (مثل: حركة مخزون غير طبيعية).
    *   **تسجيل التدقيق:** يسجل كل خطوة في سجل التدقيق (Audit Log).

## النتائج المتوقعة

بعد انتهاء تنفيذ السكريبت، ستظهر لك في الـ Shell مخرجات تفصيلية لكل خطوة، وفي النهاية ملخص للنتائج:

*   **ملخص التوصيات:** سترى قائمة بالتوصيات التي تم إنشاؤها، مثل:
    *   `Urgent Reorder: [Item Name]`
    *   `Slow-Moving Inventory: [Item Name]`
*   **ملخص الحالات الشاذة:** سترى قائمة بالحالات الشاذة المكتشفة، مثل:
    *   `Unusual Movement: [Item Name]`
*   **ملخص سجل التدقيق:** سترى آخر 10 أحداث تم تسجيلها في سجل التدقيق، مما يثبت أن كل خطوة موثقة.

## استعراض النتائج في الواجهة الرسومية

بعد اكتمال السكريبت، يمكنك الانتقال إلى واجهة المستخدم الخاصة بالمنصة (التي تعمل عبر `npm run dev`) لمشاهدة النتائج بشكل مرئي:

1.  **صفحة Recommendations:** ستجد التوصيات الجديدة مدرجة وجاهزة للمراجعة والموافقة.
2.  **صفحة Anomalies:** ستجد الحالات الشاذة مدرجة للمراجعة والتحقيق.
3.  **صفحة Audit Log:** ستجد سجل تدقيق كامل ومفصل لكل العمليات التي تمت خلال الـ Demo.
4.  **صفحة Connectors:** ستجد الموصل الجديد `Mock Inventory System` وقد تم إنشاؤه وتكوينه.
5.  **صفحة Mapping Studio:** يمكنك استعراض قواعد التحويل التي تم إنشاؤها لكل كيان.

بهذا يكتمل الـ Demo، ويتم إثبات قدرة المنصة على تحقيق القيمة المقترحة بشكل عملي ومتكامل.
